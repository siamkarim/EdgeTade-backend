# ==================================================
# EDGETRADE TRADING PLATFORM - CONFIGURATION TEMPLATE
# ==================================================
# Copy this file to .env and update the values
# .env file is git-ignored for security

# --------------------------------------------------
# Application Settings
# --------------------------------------------------
APP_NAME=EdgeTrade Trading Platform
APP_VERSION=1.0.0
DEBUG=True
ENVIRONMENT=development  # development, staging, production
TIMEZONE=UTC
HOST=0.0.0.0
PORT=8000
RELOAD=True
WORKERS=1

# --------------------------------------------------
# Database Configuration
# --------------------------------------------------
# Format: postgresql+asyncpg://username:password@host:port/database
# IMPORTANT: Replace with your actual database credentials
DATABASE_URL=postgresql+asyncpg://postgres:admin@localhost:5432/edgetrade_db
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_ECHO=False

# --------------------------------------------------
# Security - JWT & Authentication
# --------------------------------------------------
# CRITICAL: Generate new secret key with: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-this-in-production-use-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# --------------------------------------------------
# Redis Configuration (Optional - Disabled for now)
# --------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=False
CACHE_EXPIRE_SECONDS=300

# --------------------------------------------------
# CORS Settings
# --------------------------------------------------
# Development: Allow all origins
# Production: Specify exact domains for security
CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=True

# --------------------------------------------------
# Rate Limiting & Security
# --------------------------------------------------
RATE_LIMIT_PER_MINUTE=60
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# --------------------------------------------------
# Trading Engine Configuration
# --------------------------------------------------
SIMULATE_TRADING=True  # True = simulated prices, False = real broker
PRICE_UPDATE_INTERVAL_MS=1000
DEFAULT_LEVERAGE=100
MAX_LEVERAGE=500
MIN_LOT_SIZE=0.01
MAX_LOT_SIZE=100.0
AUTO_LIQUIDATION_MARGIN_LEVEL=20.0  # Close positions when margin level < 20%
MARGIN_CALL_LEVEL=50.0  # Alert when margin level < 50%
MAX_OPEN_POSITIONS=50
DEFAULT_STOP_LOSS_PIPS=50
DEFAULT_TAKE_PROFIT_PIPS=100

# --------------------------------------------------
# Admin Account (Change password immediately!)
# --------------------------------------------------
ADMIN_EMAIL=admin@edgetrade.com
ADMIN_PASSWORD=admin
ADMIN_USERNAME=admin

# --------------------------------------------------
# Logging Configuration
# --------------------------------------------------
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/app.log
LOG_ROTATION=10 MB
LOG_RETENTION=30 days

# --------------------------------------------------
# WebSocket Configuration
# --------------------------------------------------
WS_HEARTBEAT_INTERVAL=30
WS_MESSAGE_QUEUE_SIZE=100
WS_MAX_CONNECTIONS=1000

# --------------------------------------------------
# API Pagination
# --------------------------------------------------
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# --------------------------------------------------
# File Upload Settings
# --------------------------------------------------
MAX_UPLOAD_SIZE_MB=10
UPLOAD_DIR=uploads

# --------------------------------------------------
# Email Configuration (Gmail SMTP)
# --------------------------------------------------
SMTP_ENABLED=True
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@edgetrade.com
SMTP_TLS=True

# --------------------------------------------------
# Broker Integration (Currently Disabled)
# --------------------------------------------------
# MetaTrader 5
MT5_ENABLED=False
# MT5_API_KEY=your-mt5-api-key
# MT5_API_SECRET=your-mt5-api-secret
# MT5_ACCOUNT_ID=your-mt5-account-id

# OANDA
OANDA_ENABLED=False
# OANDA_API_KEY=your-oanda-api-key
# OANDA_ACCOUNT_ID=your-oanda-account-id
# OANDA_PRACTICE=True

# Binance
BINANCE_ENABLED=False
# BINANCE_API_KEY=your-binance-api-key
# BINANCE_API_SECRET=your-binance-api-secret
# BINANCE_TESTNET=True

# --------------------------------------------------
# Monitoring & Analytics (Optional)
# --------------------------------------------------
# Sentry (Error Tracking)
SENTRY_ENABLED=False
# SENTRY_DSN=your-sentry-dsn-here

# Datadog (Performance Monitoring)
DATADOG_ENABLED=False
# DATADOG_API_KEY=your-datadog-key-here

# --------------------------------------------------
# Feature Flags
# --------------------------------------------------
ENABLE_WEBSOCKET=True
ENABLE_ADMIN_PANEL=True
ENABLE_API_DOCS=True
ENABLE_ANALYTICS=True
REQUIRE_EMAIL_VERIFICATION=True
REQUIRE_KYC=False

# --------------------------------------------------
# Market Data Settings
# --------------------------------------------------
MARKET_DATA_CACHE_SECONDS=1
HISTORICAL_DATA_DAYS=365

